package ngs.view{  import flash.display.MovieClip;  import com.greensock.TweenLite;  import com.greensock.TweenAlign;  import com.greensock.TimelineMax;  import com.greensock.easing.*;    public class OilBubbleChart extends MovieClip  {    public var def_width;    public var def_height;    public var numSplatters = 10;    public var splatter_ani:TimelineMax = new TimelineMax({ paused: true });    public var sequence:Array = new Array();    public var splatterList:Array = new Array();    public var instanceList:Array = new Array();    public var reference:Array =     [      [ 97, 84 ],  [ 58, 57 ], [ 55, 36 ], [ 90, 90 ], [ 29, null ], [ 53, null ],      [ 47, 44 ], [ 71, null ], [ 56, 44 ], [ 63, null ], [ 150, null ]    ];    public function OilBubbleChart()    {      CustomEase.create("bouncy", [{s:0,cp:0.77,e:1.048},{s:1.048,cp:1.326,e:1.112},{s:1.112,cp:0.898,e:1}]);      init();    }        public function init():void    {      for (var i:int = 0; i < numSplatters + 1; i++)      {        splatterList.push(Object(getChildByName("splatter" + i)));        splatterList[i].numInstances = reference[i][0];        splatterList[i].exception = reference[i][1];      }      register();      preTransitionState();    }        public function preTransitionState():void    {      for (var i:int = 0; i < splatterList.length; i++)      {        for (var k:int = 0; k < splatterList[i].numInstances + 1; k++)        {          var curObj:Object = splatterList[i].getChildByName("instance" + k);          curObj.scaleX = curObj.scaleY = 0;        }      }    }        public function postTransitionState():void    {      splatter_ani.stop();      this.visible = true;            for each (var ins:* in instanceList)      {        ins.x = ins.def_x;        ins.y = ins.def_y;        ins.width = ins.def_width;        ins.height = ins.def_height;      }    }        public function register():void    {              for (var i:int = 0; i < splatterList.length; i++)       {        var ani:TimelineMax = new TimelineMax({  });                for (var k:int = 0; k < splatterList[i].numInstances + 1; k++)         {          var curObj:Object = splatterList[i].getChildByName("instance" + k);                    instanceList.push(curObj);                    curObj.def_x = curObj.x;          curObj.def_y = curObj.y;          curObj.def_width = curObj.width;          curObj.def_height = curObj.height;                    if (k == splatterList[i].exception)            ani.insert(TweenLite.to(curObj, 0.5, { scaleX: 1, scaleY: 1, ease: CustomEase.byName("bouncy"), delay: 0.001, overwrite: true } ));          else            ani.insert(TweenLite.to(curObj, 1, { scaleX: 1, scaleY: 1, ease: Expo.easeOut, overwrite: true } ));        }                sequence.push(ani);      }            splatter_ani.insertMultiple(sequence, 0, TweenAlign.START, 0.05);    }        public function transitionIn():void    {      this.visible = true;      preTransitionState();      splatter_ani.restart();    }  }}